<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta http-equiv="cache-control" content="no-cache" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/cascade.css" />
<!--[if IE 6]><link rel="stylesheet" type="text/css" media="screen" href="/css/ie6.css" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" type="text/css" media="screen" href="/css/ie7.css" /><![endif]-->
<!--[if IE 8]><link rel="stylesheet" type="text/css" media="screen" href="/css/ie8.css" /><![endif]-->
<script type="text/javascript" src="/js/xhr.js"></script>
<script type="text/javascript" src="/js/jquery-1.10.2.js"></script>
<script type="text/javascript" src="/js/json2.min.js"></script>
	<script type="text/javascript" src="/js/commands.js"></script>
<script>
function f_get_kernel_log(url) {
	$.ajax({
		url: url,
		type: 'GET',
		dataType: 'text',
		timeout: 30000,
		cache: false,
		success: function(data) {
			$("#syslog").val(data);
                        $("#syslog")[0].scrollTop = $("#syslog")[0].scrollHeight;
		},
		error: function() {
			//alert('Ajax Error');
		}
	});
}

$(document).ready(function() {
         var interval;
         $.ajax({
		url: '/cgi-bin/has_prev_log.cgi',
		type: 'GET',
		dataType: 'text',
		timeout: 30000,
		cache: false,
		success: function(data) {
                  if (data.trim() == "1") {
                    $("#prev").show();
                  }
		},
		error: function() {
		  //alert('Ajax Error');
		}
	});

        $("#prev").click(function() {
            clearInterval(interval);
            f_get_kernel_log('/cgi-bin/get_prev_log.cgi');
            $("#cur").show();
            $("#prev").hide();

        });

	f_get_kernel_log('/cgi-bin/get_kernel_log.cgi');

        interval = setInterval(function() {
          f_get_kernel_log('/cgi-bin/get_kernel_log.cgi');
        }, 10000);
});
</script>
<title>Ant Miner</title>
</head>
<body class="lang_en">
	<p class="skiplink">
		<span id="skiplink1"><a href="#navigation">Skip to navigation</a></span>
		<span id="skiplink2"><a href="#content">Skip to content</a></span>
	</p>
	<div id="menubar">
		<h2 class="navigation"><a id="navigation" name="navigation">Navigation</a></h2>
		<div class="clear"></div>
	</div>
    <div id="menubar2">
        <header class="app-header navbar">
            <img src="./images/logo.png" width="150" height="50" alt="Logo" class="navbar-brand-full">
            <div class="app-header-items" style="color: rgb(255, 255, 255); padding-right: 50px;">
                <span class="badge badge-pill badge-success" style="margin-right: 20px;">...</span>
                <button type="submit" class="btn btn-primary btn-pill btn-sm" id="stopSearchHeader" onclick="stopSearchHeader(this)">
                    Stop search
                </button>
                <button type="submit" class="btn btn-primary btn-pill btn-sm" id="startSearchHeader" onclick="startSearchHeader(this)">
                    Start search
                </button>
                <button type="submit" class="btn btn-primary btn-pill btn-sm" id="startHeader" onclick="startMinerHeader(this)">Resume
                    mining
                </button>
                <button type="submit" class="btn btn-primary btn-pill btn-sm" id="stopHeader" onclick="stopMinerHeader(this)">Stop
                    mining
                </button>
                <button type="submit" class="btn btn-primary btn-pill btn-sm" id="restartHeader" onclick="restartHeader(this)">Restart
                    miner
                </button>
                <button type="submit" class="btn btn-primary btn-pill btn-sm" id="rebootHeader" onclick="rebootHeader(this)">Reboot
                </button>
            </div>
        </header>
    </div>
	<div id="maincontainer">
		<div id="tabmenu">
			<div class="tabmenu1">
				<ul class="tabmenu l1">
					<li class="tabmenu-item-status active"><a href="/index.html">System</a></li>
					<li class="tabmenu-item-system"><a href="/cgi-bin/minerConfiguration.cgi">Miner Configuration</a></li>
					<li class="tabmenu-item-network"><a href="/cgi-bin/minerStatus.cgi">Miner Status</a></li>
					<li class="tabmenu-item-system"><a href="/network.html">Network</a></li>
                 <li class="tabmenu-item-network"><a href="/reportBug.html">Report a Bug</a></li>
				</ul>
				<br style="clear: both" />
				<div class="tabmenu2">
					<ul class="tabmenu l2">
						<li class="tabmenu-item-system"><a href="/index.html">Overview</a></li>
						<li class="tabmenu-item-system"><a href="/administration.html">Administration</a></li>
						<li class="tabmenu-item-admin"><a href="/monitor.html">Monitor</a></li>
						<li class="tabmenu-item-packages active"><a href="/kernelLog.html">Kernel Log</a></li>
                				<li class="tabmenu-item-packages"><a href="/watchdogLog.html">Watchdog Log</a></li>
						<li class="tabmenu-item-startup"><a href="/upgrade.html">Upgrade</a></li>
						<li class="tabmenu-item-crontab"><a href="/reboot.html">Reboot</a></li>
						<li class="tabmenu-item-crontab"><a href="/blink.html">Locate</a></li>
					</ul>
					<br style="clear: both" />
				</div>
			</div>
		</div>
		<div id="maincontent">
			<noscript>
				<div class="errorbox">
					<strong>Java Script required!</strong><br /> You must enable Java Script in your browser or LuCI will not work properly.
				</div>
			</noscript>
			<h2 style="padding-bottom:10px;"><a id="content" name="content">Kernel Log</a></h2>
                        <input type="button" style="display:none;margin-bottom:5px" class="cbi-button" id="prev" value="Show previous log"/>
                        <input type="button" style="display:none;margin-bottom:5px" class="cbi-button" id="cur" value="Switch to current log" onclick="location.href='/kernelLog.html'"/>
      			<div id="content_syslog">
				<textarea readonly="readonly" wrap="off" style="min-height:550px" id="syslog"></textarea>
			</div>
			<div class="clear"></div>
		</div>
	</div>
	<div class="clear"></div>
	<div style="text-align: center; bottom: 0; left: 0; height: 1.5em; font-size: 80%; margin: 0; padding: 5px 0px 2px 8px; background-color: #918ca0; width: 100%;">
		<font style="color:#fff;">Copyright &copy; 2013-2014, Bitmain Technologies</font>
	</div>
</body>
</html>

